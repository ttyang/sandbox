<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Getting Started</title>
<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.75.2">
<link rel="home" href="../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="../simd.html" title="Chapter&#160;2.&#160;simd">
<link rel="prev" href="../simd.html" title="Chapter&#160;2.&#160;simd">
<link rel="next" href="sdk.html" title="SDK">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr><td valign="top"></td></tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../simd.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../simd.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="sdk.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="simd.getting_started"></a><a class="link" href="getting_started.html" title="Getting Started">Getting Started</a>
</h2></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="getting_started.html#simd.getting_started.hello_world">Hello World</a></span></dt>
<dt><span class="section"><a href="getting_started.html#simd.getting_started.a_more_detailed_explanation">A more
      detailed explanation</a></span></dt>
<dt><span class="section"><a href="getting_started.html#simd.getting_started.supported_simd_instruction_sets">Supported
      SIMD instruction sets</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="simd.getting_started.hello_world"></a><a class="link" href="getting_started.html#simd.getting_started.hello_world" title="Hello World">Hello World</a>
</h3></div></div></div>
<p>
        Here is a simple program that demonstrates how easy it is to use boost.simd
        :
      </p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">iostream</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">simd</span><span class="special">/</span><span class="identifier">sdk</span><span class="special">/</span><span class="identifier">simd</span><span class="special">/</span><span class="identifier">pack</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">simd</span><span class="special">/</span><span class="identifier">sdk</span><span class="special">/</span><span class="identifier">simd</span><span class="special">/</span><span class="identifier">io</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>
<span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">boost</span><span class="special">/</span><span class="identifier">simd</span><span class="special">/</span><span class="identifier">toolbox</span><span class="special">/</span><span class="keyword">operator</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span>


<span class="keyword">int</span> <span class="identifier">main</span><span class="special">(</span><span class="keyword">int</span> <span class="identifier">argc</span><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span><span class="identifier">argv</span><span class="special">[])</span>
<span class="special">{</span>
    <span class="identifier">boost</span><span class="special">::</span><span class="identifier">simd</span><span class="special">::</span><span class="identifier">pack</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">u</span><span class="special">(</span><span class="number">10</span><span class="special">),</span> <span class="identifier">r</span><span class="special">(</span><span class="number">11</span><span class="special">);</span>
    <span class="identifier">boost</span><span class="special">::</span><span class="identifier">simd</span><span class="special">::</span><span class="identifier">pack</span><span class="special">&lt;</span><span class="keyword">int</span><span class="special">&gt;</span> <span class="identifier">res</span> <span class="special">=</span> <span class="special">(</span><span class="identifier">u</span> <span class="special">+</span> <span class="identifier">r</span><span class="special">)</span> <span class="special">*</span> <span class="number">2</span><span class="special">;</span>

    <span class="identifier">std</span><span class="special">::</span><span class="identifier">cout</span> <span class="special">&lt;&lt;</span> <span class="identifier">res</span> <span class="special">&lt;&lt;</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">endl</span><span class="special">;</span>
    <span class="keyword">return</span> <span class="number">0</span><span class="special">;</span>
<span class="special">}</span>
</pre>
<p>
        Once compiled and executed this will print the following :
      </p>
<pre class="programlisting">{42,42,42,42}
</pre>
<p>
        (The number of elements outputted may vary depending on the set of instruction
        supported by your processor).
      </p>
<p>
        What this snippet is doing is :
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            Construct packs of integers, a pack is a representation of a SIMD register.
          </li>
<li class="listitem">
            Initialize them from integers (this operation is implicit here but it's
            named <code class="computeroutput"><span class="identifier">splat</span></code>).
          </li>
<li class="listitem">
            Do some operations on it, here adding two vectors and multiplying by
            a scalar.
          </li>
<li class="listitem">
            Display the resulting vector, boost.simd provides the needed operator&lt;&lt;
            overload.
          </li>
</ul></div>
<p>
        As you see it, boost.simd makes SIMD operations as easy as their scalar counterparts
        without having to worry about things like platform type, SIMD instruction
        sets supported etc.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="simd.getting_started.a_more_detailed_explanation"></a><a class="link" href="getting_started.html#simd.getting_started.a_more_detailed_explanation" title="A more detailed explanation">A more
      detailed explanation</a>
</h3></div></div></div>
<p>
        Let's dive a bit more into the library and see what happens with the previous
        code snippet. First, when compiling the library, the sets of instructions
        supported by the host machine is identified. As an example the machine used
        to compile the previous code supports MMX up to SSE4.1 instructions. Next
        when we use a <code class="computeroutput"><span class="identifier">pack</span></code>, which
        is the high interface boost.simd exposes to represent a SIMD register, internally
        a variable using the right vector type is instantiated, with the same machine
        as above that would be <code class="computeroutput"><span class="identifier">__m128i</span></code>.
        The cardinal is also infered from the size of the register and the size of
        the type used (in this example it would be 4). Finally when we use operators
        on packs, the type of instructions supported is used to select the right
        overload which in turns uses available intrisics, in our example the addition
        operator would use <code class="computeroutput"><span class="identifier">_mm_add_epi_32</span></code>.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="simd.getting_started.supported_simd_instruction_sets"></a><a class="link" href="getting_started.html#simd.getting_started.supported_simd_instruction_sets" title="Supported SIMD instruction sets">Supported
      SIMD instruction sets</a>
</h3></div></div></div>
<p>
        At the moment the library supports on x86 platforms the following instruction
        sets :
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            SSE2
          </li>
<li class="listitem">
            SSE3
          </li>
<li class="listitem">
            SSSE3
          </li>
<li class="listitem">
            SSE4_1
          </li>
<li class="listitem">
            SSE4_2
          </li>
<li class="listitem">
            AVX
          </li>
<li class="listitem">
            XOP
          </li>
</ul></div>
<p>
        The other platform supported is Powerpc with the Altivec instruction set.
      </p>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2003-2011 LASMEA
      UMR 6602 CNRS/Univ. Blaise Pascal<br>Copyright &#169; 2009-2011 LRI UMR 8623
      CNRS/Univ Paris Sud XI<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../simd.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../simd.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="sdk.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
