<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Concepts</title>
<link rel="stylesheet" href="../../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="../index.html" title="Boost.Maps">
<link rel="up" href="../index.html" title="Boost.Maps">
<link rel="prev" href="../index.html" title="Boost.Maps">
<link rel="next" href="tutorial.html" title="Tutorial">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../../boost.png"></td>
<td align="center"><a href="../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../index.html"><img src="../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="tutorial.html"><img src="../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="section">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="maps.concepts"></a><a class="link" href="concepts.html" title="Concepts">Concepts</a>
</h2></div></div></div>
<div class="toc"><dl>
<dt><span class="section"><a href="concepts.html#maps.concepts.introduction">Introduction</a></span></dt>
<dt><span class="section"><a href="concepts.html#maps.concepts.fixed_size_arrays">Fixed-Size Arrays</a></span></dt>
<dt><span class="section"><a href="concepts.html#maps.concepts.resizeable_arrays">Resizeable Arrays</a></span></dt>
<dt><span class="section"><a href="concepts.html#maps.concepts.array_views">Array Views</a></span></dt>
<dt><span class="section"><a href="concepts.html#maps.concepts.scalars_vectors_matrices">Scalars, Vectors
      and Matrices</a></span></dt>
</dl></div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="maps.concepts.introduction"></a><a class="link" href="concepts.html#maps.concepts.introduction" title="Introduction">Introduction</a>
</h3></div></div></div>
<p>
        The array of array specification for statically allocated intrinsic multi-dimensional
        arrays is conceptually well defined in C++. The fixed-size array class templates
        discussed here include versions whose data member is an intrinsic multi-dimensional
        array. The arrays' shape is determined from a compile time supplied set of
        bounds. An alternative approach to constructing multi-dimensional arrays
        results from using pointers. The structural components in this case are allocated
        dynamically at runtime allowing for both fixed-size and resizeable varieties.
        The approach taken here is to allocate all the elements at each dimension
        in a continuous block of memory from a given set of bounds. For fixed-size
        arrays this again means the bounds are set at compile time. A resizeable
        array must be passed a set of bounds in order to construct it in addition
        to the purpose of resizing.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="maps.concepts.fixed_size_arrays"></a><a class="link" href="concepts.html#maps.concepts.fixed_size_arrays" title="Fixed-Size Arrays">Fixed-Size Arrays</a>
</h3></div></div></div>
<p>
        The array types <code class="computeroutput"><span class="identifier">array</span></code> and
        <code class="computeroutput"><span class="identifier">array_</span></code> define objects that
        satisfy the notion of a multi-dimensional array. The data member type generated
        for the array depends on the template arguments to the class. The header
        <code class="computeroutput"><span class="special">&lt;</span><span class="identifier">array</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>
        defines the class template,
      </p>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">B</span><span class="special">,</span> <span class="keyword">bool</span> <span class="identifier">I</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">A</span> <span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">array</span><span class="special">;</span>
</pre>
<p>
        Here,
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            <code class="computeroutput"><span class="identifier">T</span></code> is the data type the
            array holds.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">B</span></code> is a <code class="computeroutput"><span class="identifier">boundsN</span></code> sequence of <code class="computeroutput"><span class="identifier">N</span></code>
            non-zero positive integers.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">I</span></code> is the zero/default
            initialization parameter.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">A</span></code> is an allocator type.
          </li>
</ul></div>
<p>
        The sequence argument, <code class="computeroutput"><span class="identifier">B</span></code>,
        determines the dimensionality, <code class="computeroutput"><span class="identifier">N</span></code>,
        of the array, as well as the size of each dimension. The library defines
        a <code class="computeroutput"><span class="identifier">null</span><span class="special">::</span><span class="identifier">allocator</span></code> type which is the default allocator
        type for the class. If a <code class="computeroutput"><span class="identifier">null</span><span class="special">::</span><span class="identifier">allocator</span></code>
        is used for the template argument <code class="computeroutput"><span class="identifier">A</span></code>
        then the resulting data member is a statically allocated array of <code class="computeroutput"><span class="identifier">N</span></code> dimensions with the size of each dimension
        given by successive values in the argument sequence <code class="computeroutput"><span class="identifier">B</span></code>,
        and with data elements of type <code class="computeroutput"><span class="identifier">T</span></code>,
        where the usual restrictions on type <code class="computeroutput"><span class="identifier">T</span></code>
        apply. Otherwise the array data member is the type <code class="computeroutput"><span class="identifier">T</span></code>
        or its non-reference equivalent, which from here on its assumed to be, with
        <code class="computeroutput"><span class="identifier">N</span></code> pointer symbols appended
        and is constructed at runtime in accordance with template argument's <code class="computeroutput"><span class="identifier">B</span></code>, <code class="computeroutput"><span class="identifier">I</span></code>
        and <code class="computeroutput"><span class="identifier">A</span></code>. In either case if
        the argument <code class="computeroutput"><span class="identifier">T</span></code> has a non-trivial
        constructor the data elements will be constructed during the construction
        of the array, standard case for intrinsic arrays, otherwise data element
        construction will depend on the argument <code class="computeroutput"><span class="identifier">I</span></code>,
        whose default value is <code class="computeroutput"><span class="keyword">true</span></code>.
        Therefore, arguments are always required for both <code class="computeroutput"><span class="identifier">T</span></code>
        and <code class="computeroutput"><span class="identifier">B</span></code>, while <code class="computeroutput"><span class="identifier">I</span></code> and <code class="computeroutput"><span class="identifier">A</span></code>
        are optional.
      </p>
<p>
        As an illustration the following declaration produces an <code class="computeroutput"><span class="identifier">array</span></code>
        object with data member type <code class="computeroutput"><span class="keyword">int</span><span class="special">[</span><span class="number">3</span><span class="special">][</span><span class="number">4</span><span class="special">][</span><span class="number">5</span><span class="special">][</span><span class="number">4</span><span class="special">][</span><span class="number">3</span><span class="special">]</span></code> and zero
        initialized data elements.
      </p>
<pre class="programlisting"><span class="identifier">array</span><span class="special">&lt;</span> <span class="keyword">int</span><span class="special">,</span> <span class="identifier">bounds5</span><span class="special">&lt;</span> <span class="number">3</span><span class="special">,</span><span class="number">4</span><span class="special">,</span><span class="number">5</span><span class="special">,</span><span class="number">4</span><span class="special">,</span><span class="number">3</span> <span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">a</span><span class="special">;</span>
</pre>
<p>
        If we now consider the declaration,
      </p>
<pre class="programlisting"><span class="identifier">array</span><span class="special">&lt;</span> <span class="keyword">int</span><span class="special">,</span> <span class="identifier">bounds5</span><span class="special">&lt;</span> <span class="number">3</span><span class="special">,</span><span class="number">4</span><span class="special">,</span><span class="number">5</span><span class="special">,</span><span class="number">4</span><span class="special">,</span><span class="number">3</span> <span class="special">&gt;,</span> <span class="keyword">false</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">allocator</span><span class="special">&lt;</span> <span class="keyword">int</span> <span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">a</span><span class="special">;</span>
</pre>
<p>
        The <code class="computeroutput"><span class="identifier">array</span></code> object's data member
        in this case is an <code class="computeroutput"><span class="keyword">int</span><span class="special">*****</span></code>
        whose runtime construction requires five memory allocations with the data
        elements left uninitialized. A point of note concerns the allocator type
        used in the previous declaration. Strictly, it should have been <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">allocator</span><span class="special">&lt;</span> <span class="keyword">int</span><span class="special">****</span>
        <span class="special">&gt;</span></code>, however the nested <code class="computeroutput"><span class="identifier">rebind</span></code> struct in the original declaration's
        allocator is used to bind the template parameter to the correct type. Since
        a non-static N-dimensional array requires N allocations for N different types,
        N different allocators are necessary to fully construct the resulting array.
      </p>
<p>
        The header <code class="computeroutput"><span class="special">&lt;</span><span class="identifier">array_</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>
        defines the class template,
      </p>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span> <span class="identifier">N</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span> <span class="identifier">D</span><span class="special">,</span> <span class="keyword">bool</span> <span class="identifier">I</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">A</span> <span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">array_</span><span class="special">;</span>
</pre>
<p>
        Here,
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            <code class="computeroutput"><span class="identifier">T</span></code> is the data type the
            array holds.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">N</span></code> is the dimensionality
            of the array.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">D</span></code> is the size of each
            of the <code class="computeroutput"><span class="identifier">N</span></code> dimensions of
            the array.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">I</span></code> is the zero/default
            initialization parameter.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">A</span></code> is an allocator type.
          </li>
</ul></div>
<p>
        The template parameters <code class="computeroutput"><span class="identifier">T</span></code>,
        <code class="computeroutput"><span class="identifier">I</span></code> and <code class="computeroutput"><span class="identifier">A</span></code>
        have the same meaning, requirements and default behaviour as the <code class="computeroutput"><span class="identifier">array</span></code> class template discussed previously.
        An <code class="computeroutput"><span class="identifier">array_</span></code> object has dimensionality
        <code class="computeroutput"><span class="identifier">N</span></code> with each dimension taking
        the fixed value <code class="computeroutput"><span class="identifier">D</span></code>, both of
        which are required parameters. Thus, in the following declaration the data
        member type is <code class="computeroutput"><span class="keyword">int</span><span class="special">[</span><span class="number">5</span><span class="special">][</span><span class="number">5</span><span class="special">][</span><span class="number">5</span><span class="special">][</span><span class="number">5</span><span class="special">][</span><span class="number">5</span><span class="special">]</span></code> with zero initialized data elements.
      </p>
<pre class="programlisting"><span class="identifier">array_</span><span class="special">&lt;</span> <span class="keyword">int</span><span class="special">,</span> <span class="number">5</span><span class="special">,</span><span class="number">5</span> <span class="special">&gt;</span> <span class="identifier">a</span><span class="special">;</span>
</pre>
<p>
        The dynamically allocated version with uninitialized data elements results
        from,
      </p>
<pre class="programlisting"><span class="identifier">array_</span><span class="special">&lt;</span> <span class="keyword">int</span><span class="special">,</span> <span class="number">5</span><span class="special">,</span><span class="number">5</span><span class="special">,</span> <span class="keyword">false</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">allocator</span><span class="special">&lt;</span> <span class="keyword">int</span> <span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">a</span><span class="special">;</span>
</pre>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="maps.concepts.resizeable_arrays"></a><a class="link" href="concepts.html#maps.concepts.resizeable_arrays" title="Resizeable Arrays">Resizeable Arrays</a>
</h3></div></div></div>
<p>
        The arrays discussed in this section satisfy the notion of a dynamically
        allocated multi-dimensional array. The header <code class="computeroutput"><span class="special">&lt;</span><span class="identifier">pointer</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>
        defines the class template,
      </p>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span> <span class="identifier">N</span><span class="special">,</span> <span class="keyword">bool</span> <span class="identifier">I</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">A</span> <span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">pointer</span><span class="special">;</span>
</pre>
<p>
        Here,
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            <code class="computeroutput"><span class="identifier">T</span></code> is the data type the
            array holds.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">N</span></code> is the dimensionality
            of the array.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">I</span></code> is the zero/default
            initialization parameter.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">A</span></code> is an allocator type.
          </li>
</ul></div>
<p>
        Parameters <code class="computeroutput"><span class="identifier">T</span></code> and <code class="computeroutput"><span class="identifier">N</span></code> are both required, while <code class="computeroutput"><span class="identifier">I</span></code> and <code class="computeroutput"><span class="identifier">A</span></code>
        are optional, with respective default's <code class="computeroutput"><span class="keyword">false</span></code>
        and <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">allocator</span><span class="special">&lt;</span>
        <span class="identifier">T</span> <span class="special">&gt;</span></code>.
        In order to construct a <code class="computeroutput"><span class="identifier">pointer</span></code>
        type with specific dimensions the auxiliary type <code class="computeroutput"><span class="identifier">bounds</span></code>,
        defined in the header <code class="computeroutput"><span class="special">&lt;</span><span class="identifier">bounds</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>,
        is required. A <code class="computeroutput"><span class="identifier">bounds</span></code> type
        is a template array type with a single <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span></code>
        parameter that determines the number of <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span></code>
        type elements the array should hold. Notwithstanding Scott Meyers item<sup>[<a name="id753190" href="#ftn.id753190" class="footnote">1</a>]</sup> and similar to Blitz++<sup>[<a name="id753199" href="#ftn.id753199" class="footnote">2</a>]</sup> arrays the comma operator has been overloaded for convenience.
        The following declaration and assignment results in the <code class="computeroutput"><span class="identifier">bounds</span></code>
        array <code class="computeroutput"><span class="identifier">b</span></code> having values 3,
        4, 5, 4 and 3 respectively.
      </p>
<pre class="programlisting"><span class="identifier">bounds</span><span class="special">&lt;</span><span class="number">5</span><span class="special">&gt;</span> <span class="identifier">b</span><span class="special">;</span>
<span class="identifier">b</span> <span class="special">=</span> <span class="number">3</span><span class="special">,</span><span class="number">4</span><span class="special">,</span><span class="number">5</span><span class="special">,</span><span class="number">4</span><span class="special">,</span><span class="number">3</span><span class="special">;</span>
</pre>
<p>
        Creating a <code class="computeroutput"><span class="identifier">pointer</span></code> object
        with uninitialized data elements then follows as,
      </p>
<pre class="programlisting"><span class="identifier">pointer</span><span class="special">&lt;</span> <span class="keyword">double</span><span class="special">,</span> <span class="number">5</span> <span class="special">&gt;</span> <span class="identifier">a</span><span class="special">(</span> <span class="identifier">b</span> <span class="special">);</span>
</pre>
<p>
        To continue, we can further write,
      </p>
<pre class="programlisting"><span class="identifier">b</span> <span class="special">=</span> <span class="number">5</span><span class="special">,</span><span class="number">4</span><span class="special">,</span><span class="number">3</span><span class="special">,</span><span class="number">4</span><span class="special">,</span><span class="number">5</span><span class="special">;</span>
<span class="identifier">a</span><span class="special">.</span><span class="identifier">resize</span><span class="special">&lt;</span> <span class="keyword">false</span> <span class="special">&gt;(</span> <span class="identifier">b</span> <span class="special">);</span>
</pre>
<p>
        This results in the array being resized to the updated values in <code class="computeroutput"><span class="identifier">b</span></code> without preserving the values already
        present in <code class="computeroutput"><span class="identifier">a</span></code>. For a <code class="computeroutput"><span class="identifier">pointer</span></code> type with dimensionality <code class="computeroutput"><span class="identifier">N</span></code>, <code class="computeroutput"><span class="identifier">N</span></code>
        memory allocations are again required. However, for an already constructed
        array such as <code class="computeroutput"><span class="identifier">a</span></code> above it
        is only necessary to make a request for memory during resizing if the total
        number of elements required for each dimension is different from that already
        present. At least this is the case for all but the final request where a
        memory allocation is required if the template argument to <code class="computeroutput"><span class="identifier">resize</span></code>
        is <code class="computeroutput"><span class="keyword">false</span></code> or if the template
        argument to <code class="computeroutput"><span class="identifier">resize</span></code> is <code class="computeroutput"><span class="keyword">true</span></code> and the total number of elements differs
        from the requested new total, thus maintaining the exception guarantee specified
        for the class. For example, in the resize operation above the third request
        for memory is to accommodate 5 x 4 x 3 = 60 elements, while 3 x 4 x 5 = 60
        elements of the required type are already present, hence, no request for
        memory is needed. Pedantically, the types <code class="computeroutput"><span class="identifier">dimensions</span></code>
        and <code class="computeroutput"><span class="identifier">indexes</span></code> may be used in
        place of a <code class="computeroutput"><span class="identifier">bounds</span></code> type for
        construction and element access of a resizeable array.
      </p>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="maps.concepts.array_views"></a><a class="link" href="concepts.html#maps.concepts.array_views" title="Array Views">Array Views</a>
</h3></div></div></div>
<p>
        Accessing the elements of an array can be considered from a number of perspectives
        that inevitably depends on the particular application and patterns in the
        data represented by the elements. The indexing operator for example is used
        to access individual elements of an array. However access to specific non-/continuous
        sequences of elements in the form of slices or subarrays may be required.
        For an N-dimensional array a slice can be represented in 1 to N-1 dimensions
        whereas subarrays of N-dimensional arrays are themselves N-dimensional arrays.
        A <code class="computeroutput"><span class="identifier">view</span></code> is a resizeable N-dimensional
        array of the same dimesionality as the array used to define it. The data
        elements can be either pointers to or copies of some sequence of data elements
        from an array whose type parameterizes the <code class="computeroutput"><span class="identifier">view</span></code>.
      </p>
<p>
        The header <code class="computeroutput"><span class="special">&lt;</span><span class="identifier">view</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>
        defines the class template,
      </p>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">class</span> <span class="identifier">A</span><span class="special">,</span> <span class="keyword">bool</span> <span class="identifier">B</span> <span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">view</span><span class="special">;</span>
</pre>
<p>
        Here,
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            <code class="computeroutput"><span class="identifier">A</span></code> is the array type the
            <code class="computeroutput"><span class="identifier">view</span></code> will be constructed
            from.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">B</span></code> signifies our intention
            to store pointers on an argument of type <code class="computeroutput"><span class="identifier">A</span></code>
            or otherwise.
          </li>
</ul></div>
<p>
        <code class="computeroutput"><span class="identifier">A</span></code> is a required parameter
        while <code class="computeroutput"><span class="identifier">B</span></code> is optional with
        default value <code class="computeroutput"><span class="keyword">true</span></code>, i.e. stores
        pointers to some sequence of data elements from an array of type <code class="computeroutput"><span class="identifier">A</span></code>. The <code class="computeroutput"><span class="identifier">view</span></code>
        type contains the nested class template <code class="computeroutput"><span class="identifier">range</span></code>,
        used to set three values, first, last and step, over one dimension of an
        array of type <code class="computeroutput"><span class="identifier">A</span></code>. The relationship
        between first, last and step can be considered analogous to the following
        <code class="computeroutput"><span class="keyword">for</span></code> statement.
      </p>
<pre class="programlisting"><span class="keyword">for</span><span class="special">(</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span> <span class="identifier">i</span> <span class="special">=</span> <span class="identifier">first</span><span class="special">;</span> <span class="identifier">i</span> <span class="special">!=</span> <span class="identifier">last</span><span class="special">;</span> <span class="identifier">i</span> <span class="special">+=</span> <span class="identifier">step</span> <span class="special">)</span>  <span class="special">{</span> <span class="special">...</span> <span class="special">}</span>
</pre>
<p>
        The single template parameter of a <code class="computeroutput"><span class="identifier">range</span></code>
        is the type <code class="computeroutput"><span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span></code> that determines which dimension
        the <code class="computeroutput"><span class="identifier">range</span></code> is associated with.
        For an N-dimensional array, N <code class="computeroutput"><span class="identifier">range</span></code>'s
        should be set which together form the sequence of data elements from an argument
        of type <code class="computeroutput"><span class="identifier">A</span></code> that the <code class="computeroutput"><span class="identifier">view</span></code> will store. The <code class="computeroutput"><span class="identifier">range</span></code>
        constructor expects an argument of type <code class="computeroutput"><span class="identifier">view</span></code>.
        Implicitly a <code class="computeroutput"><span class="identifier">view</span></code> must be
        declared before setting the <code class="computeroutput"><span class="identifier">range</span></code>'s
        and subsequently an argument of type <code class="computeroutput"><span class="identifier">A</span></code>
        is passed to the <code class="computeroutput"><span class="identifier">view</span></code>'s
        <code class="computeroutput"><span class="identifier">reset</span></code> method in order to
        construct it. To clarify, consider the following,
      </p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">array_</span><span class="special">&lt;</span> <span class="keyword">double</span><span class="special">,</span> <span class="number">3</span><span class="special">,</span><span class="number">7</span><span class="special">,</span> <span class="keyword">true</span> <span class="special">&gt;</span> <span class="identifier">A</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="identifier">view</span><span class="special">&lt;</span> <span class="identifier">A</span> <span class="special">&gt;</span> <span class="identifier">V</span><span class="special">;</span>

<span class="identifier">A</span> <span class="identifier">a</span><span class="special">;</span>
<span class="identifier">V</span> <span class="identifier">v</span><span class="special">;</span>
    
<span class="identifier">V</span><span class="special">::</span><span class="identifier">range</span><span class="special">&lt;</span><span class="number">0</span><span class="special">&gt;</span> <span class="identifier">r0</span><span class="special">(</span> <span class="identifier">v</span> <span class="special">);</span> <span class="identifier">r0</span> <span class="special">=</span> <span class="number">1</span><span class="special">,</span><span class="number">7</span><span class="special">,</span><span class="number">2</span><span class="special">;</span>
<span class="identifier">V</span><span class="special">::</span><span class="identifier">range</span><span class="special">&lt;</span><span class="number">1</span><span class="special">&gt;</span> <span class="identifier">r1</span><span class="special">(</span> <span class="identifier">v</span> <span class="special">);</span> <span class="identifier">r1</span> <span class="special">=</span> <span class="number">1</span><span class="special">,</span><span class="number">7</span><span class="special">,</span><span class="number">2</span><span class="special">;</span> 
<span class="identifier">V</span><span class="special">::</span><span class="identifier">range</span><span class="special">&lt;</span><span class="number">2</span><span class="special">&gt;</span> <span class="identifier">r2</span><span class="special">(</span> <span class="identifier">v</span> <span class="special">);</span> <span class="identifier">r2</span> <span class="special">=</span> <span class="number">1</span><span class="special">,</span><span class="number">7</span><span class="special">,</span><span class="number">2</span><span class="special">;</span>

<span class="identifier">v</span><span class="special">.</span><span class="identifier">reset</span><span class="special">(</span> <span class="identifier">a</span> <span class="special">);</span> 
</pre>
<p>
        The call to <code class="computeroutput"><span class="identifier">reset</span></code> in this
        example constructs a three-dimensional <code class="computeroutput"><span class="identifier">view</span></code>
        with shape 3 x 3 x 3 whose data elements store the addresses of every second
        data element in the third dimension of every second array in the second dimension
        of every second array of array in the first dimension of the 7 x 7 x 7 <code class="computeroutput"><span class="identifier">array_</span> <span class="identifier">a</span></code>.
      </p>
<p>
        The header <code class="computeroutput"><span class="special">&lt;</span><span class="identifier">view_</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>
        defines the class template,
      </p>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">class</span> <span class="identifier">A</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">R</span><span class="special">,</span> <span class="keyword">bool</span> <span class="identifier">B</span> <span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">view_</span><span class="special">;</span>
</pre>
<p>
        Here,
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            <code class="computeroutput"><span class="identifier">A</span></code> is the array type the
            <code class="computeroutput"><span class="identifier">view_</span></code> will be constructed
            from.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">R</span></code> is a sequence of ranges.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">B</span></code> signifies our intention
            to store pointers on an argument of type <code class="computeroutput"><span class="identifier">A</span></code>
            or otherwise.
          </li>
</ul></div>
<p>
        A <code class="computeroutput"><span class="identifier">view_</span></code> is used to construct
        a view of a fixed-size array. The data member of a <code class="computeroutput"><span class="identifier">view_</span></code>
        will be statically or dynamically allocated dependant on the type of the
        data member of the array type <code class="computeroutput"><span class="identifier">A</span></code>.
        <code class="computeroutput"><span class="identifier">A</span></code> and <code class="computeroutput"><span class="identifier">R</span></code>
        are both required parameters with <code class="computeroutput"><span class="identifier">B</span></code>
        optional defaulting to <code class="computeroutput"><span class="keyword">true</span></code>.
        A <code class="computeroutput"><span class="identifier">view_</span></code> type is more restricted
        than a <code class="computeroutput"><span class="identifier">view</span></code> in the sense
        that the parameter <code class="computeroutput"><span class="identifier">R</span></code> defines
        at compile time the ranges over an array of type <code class="computeroutput"><span class="identifier">A</span></code>
        associated with the <code class="computeroutput"><span class="identifier">view_</span></code>.
        Template types <code class="computeroutput"><span class="identifier">rangesN</span></code>,
        <code class="computeroutput"><span class="identifier">N</span></code> the dimensionality of an
        array of type <code class="computeroutput"><span class="identifier">A</span></code>, and <code class="computeroutput"><span class="identifier">range</span></code> are defined specifically for the
        template argument <code class="computeroutput"><span class="identifier">R</span></code>. Since
        the range's are predetermined the <code class="computeroutput"><span class="identifier">view_</span></code>
        type defines a constructor accepting an argument of type <code class="computeroutput"><span class="identifier">A</span></code>.
        Thus, we can write,
      </p>
<pre class="programlisting"><span class="keyword">typedef</span> <span class="identifier">array_</span><span class="special">&lt;</span> <span class="keyword">double</span><span class="special">,</span> <span class="number">3</span><span class="special">,</span><span class="number">7</span><span class="special">,</span> <span class="keyword">true</span> <span class="special">&gt;</span> <span class="identifier">A</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="identifier">ranges3</span><span class="special">&lt;</span> <span class="identifier">range</span><span class="special">&lt;</span> <span class="number">1</span><span class="special">,</span><span class="number">7</span><span class="special">,</span><span class="number">2</span> <span class="special">&gt;,</span> <span class="identifier">range</span><span class="special">&lt;</span> <span class="number">1</span><span class="special">,</span><span class="number">7</span><span class="special">,</span><span class="number">2</span> <span class="special">&gt;,</span> <span class="identifier">range</span><span class="special">&lt;</span> <span class="number">1</span><span class="special">,</span><span class="number">7</span><span class="special">,</span><span class="number">2</span> <span class="special">&gt;</span> <span class="special">&gt;</span> <span class="identifier">R</span><span class="special">;</span>
<span class="keyword">typedef</span> <span class="identifier">view_</span><span class="special">&lt;</span> <span class="identifier">A</span><span class="special">,</span> <span class="identifier">R</span> <span class="special">&gt;</span> <span class="identifier">V</span><span class="special">;</span>

<span class="identifier">A</span> <span class="identifier">a</span><span class="special">;</span>
<span class="identifier">V</span> <span class="identifier">v</span><span class="special">(</span> <span class="identifier">a</span> <span class="special">);</span>
</pre>
</div>
<div class="section">
<div class="titlepage"><div><div><h3 class="title">
<a name="maps.concepts.scalars_vectors_matrices"></a><a class="link" href="concepts.html#maps.concepts.scalars_vectors_matrices" title="Scalars, Vectors and Matrices">Scalars, Vectors
      and Matrices</a>
</h3></div></div></div>
<p>
        In certain problem domains we can specify a set of integral dimensions which
        fully characterize the problem space. Fixed-size matrices for example are
        common in many algebraic problems. Knowing the initial dimensions in advance
        allows us to exploit this knowledge in all future computations. For example,
        given a matrix, M1, with M rows and P columns and a matrix, M2, with P rows
        and N columns, the product M1 x M2 is a matrix, M3 say, with M rows and N
        columns. Computational requirements such as the operand and result type dimensions
        in this example can be encoded in the template parameters of the types involved
        and also in the operators that act on them. The Boost maps library provides
        implementations for <code class="computeroutput"><span class="identifier">scalar</span></code>
        and fixed-size <code class="computeroutput"><span class="identifier">vector</span></code> and
        <code class="computeroutput"><span class="identifier">matrix</span></code> operators that conform
        to such requirements, enabling compile time determination of consistent operations
        on the operands involved. The expression template paradigm has been invoked
        to enhance performance for mathematically intensive applications. Note that
        <code class="computeroutput"><span class="identifier">scalar</span></code> operands are a convenient
        way to specify operations involving scalar types and are not intended to
        be used as the data elements of the <code class="computeroutput"><span class="identifier">vector</span></code>
        or <code class="computeroutput"><span class="identifier">matrix</span></code> types. The headers
        <code class="computeroutput"><span class="special">&lt;</span><span class="identifier">scalar</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>,
        <code class="computeroutput"><span class="special">&lt;</span><span class="identifier">vector</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>
        and <code class="computeroutput"><span class="special">&lt;</span><span class="identifier">matrix</span><span class="special">.</span><span class="identifier">hpp</span><span class="special">&gt;</span></code>
        define the following respective types.
      </p>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">class</span> <span class="identifier">T</span> <span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">scalar</span><span class="special">;</span>
</pre>
<p>
        Here,
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
            <code class="computeroutput"><span class="identifier">T</span></code> is the data type of
            the stored member.
          </li></ul></div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span> <span class="identifier">N</span><span class="special">,</span> <span class="keyword">bool</span> <span class="identifier">I</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">A</span> <span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">vector</span><span class="special">;</span>
</pre>
<p>
        Here,
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            <code class="computeroutput"><span class="identifier">T</span></code> is the element type.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">N</span></code> is the number of components.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">I</span></code> is the zero/default
            initialization parameter.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">A</span></code> is an allocator type.
          </li>
</ul></div>
<pre class="programlisting"><span class="keyword">template</span><span class="special">&lt;</span> <span class="keyword">class</span> <span class="identifier">T</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span> <span class="identifier">M</span><span class="special">,</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">size_t</span> <span class="identifier">N</span><span class="special">,</span> <span class="keyword">bool</span> <span class="identifier">I</span><span class="special">,</span> <span class="keyword">class</span> <span class="identifier">A</span> <span class="special">&gt;</span> <span class="keyword">class</span> <span class="identifier">matrix</span><span class="special">;</span>
</pre>
<p>
        Here,
      </p>
<div class="itemizedlist"><ul class="itemizedlist" type="disc">
<li class="listitem">
            <code class="computeroutput"><span class="identifier">T</span></code> is the element type.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">M</span></code> is the number of rows.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">N</span></code> is the number of columns.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">I</span></code> is the zero/default
            initialization parameter.
          </li>
<li class="listitem">
            <code class="computeroutput"><span class="identifier">A</span></code> is an allocator type.
          </li>
</ul></div>
<p>
        For all three class templates <code class="computeroutput"><span class="identifier">T</span></code>
        is a required parameter. The parameters <code class="computeroutput"><span class="identifier">N</span></code>
        for a <code class="computeroutput"><span class="identifier">vector</span></code> and, <code class="computeroutput"><span class="identifier">M</span></code> and <code class="computeroutput"><span class="identifier">N</span></code>
        for a <code class="computeroutput"><span class="identifier">matrix</span></code> are also required.
        The remaining parameters <code class="computeroutput"><span class="identifier">I</span></code>
        and <code class="computeroutput"><span class="identifier">A</span></code> for the <code class="computeroutput"><span class="identifier">vector</span></code> and <code class="computeroutput"><span class="identifier">matrix</span></code>
        class templates are optional with respective default's <code class="computeroutput"><span class="keyword">true</span></code>
        and <code class="computeroutput"><span class="identifier">null</span><span class="special">::</span><span class="identifier">allocator</span></code> for both classes.
      </p>
</div>
<div class="footnotes">
<br><hr width="100" align="left">
<div class="footnote"><p><sup>[<a id="ftn.id753190" href="#id753190" class="para">1</a>] </sup>
          Scott Meyers, More Effective C++, Addison Wesley Longman, Inc., 1996, item
          7.
        </p></div>
<div class="footnote"><p><sup>[<a id="ftn.id753199" href="#id753199" class="para">2</a>] </sup>
          Todd Veldhuizen, Blitz++, <a href="http://www.oonumerics.org/blitz/" target="_top">http://www.oonumerics.org/blitz/</a>.
        </p></div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2010 -2011 Brian Smith<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="../index.html"><img src="../../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="tutorial.html"><img src="../../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
