<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>How to define floating-point literal suffixes?</title>
<link rel="stylesheet" href=".././boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.77.1">
<link rel="home" href="../index.html" title="Specific-Width Floating-Point Typedefs">
<link rel="up" href="../index.html" title="Specific-Width Floating-Point Typedefs">
<link rel="prev" href="thetypedefs.html" title="The proposed typedefs and potential extensions">
<link rel="next" href="thestandard.html" title="Place in the standard">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="" width="180" height="90" src=".././images/boost.png"></td>
<td align="center"><a href="../../../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="thetypedefs.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="thestandard.html"><img src="../images/next.png" alt="Next"></a>
</div>
<div class="section precision_suffixes">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="precision.suffixes"></a><a class="link" href="suffixes.html" title="How to define floating-point literal suffixes?">How to define floating-point literal
    suffixes?</a>
</h2></div></div></div>
<p>
      The standard specifies that the type of a floating-point literal is double
      unless explicitly specified by a suffix. The standard continues by specifying
      that the suffixes <code class="computeroutput"><span class="identifier">f</span></code> and <code class="computeroutput"><span class="identifier">F</span></code> specify <code class="computeroutput"><span class="keyword">float</span></code>,
      and the suffixes <code class="computeroutput"><span class="identifier">l</span></code> and <code class="computeroutput"><span class="identifier">L</span></code> specify <code class="computeroutput"><span class="keyword">long</span>
      <span class="keyword">double</span></code>.
    </p>
<p>
      Recent discussion on extended precision floating-point types in C++ has also
      raised the issue of how to specify constant values with a precision greater
      than <code class="computeroutput"><span class="keyword">long</span> <span class="keyword">double</span></code>,
      now signified by the suffix <code class="computeroutput"><span class="identifier">L</span></code>
      or <code class="computeroutput"><span class="identifier">l</span></code>. One possible way is to
      add <code class="computeroutput"><span class="identifier">Q</span></code> or <code class="computeroutput"><span class="identifier">q</span></code>
      suffixes to signify that floating-point literal has quadruple precision.
    </p>
<p>
      Code using the <code class="computeroutput"><span class="identifier">Q</span></code> suffix scheme
      is shown in the sample below.
    </p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">cstdfloat</span><span class="special">&gt;</span>

<span class="identifier">constexpr</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">float128_t</span> <span class="identifier">pi</span> <span class="special">=</span> <span class="number">3.1415926535897932384626433832795028841972</span><span class="identifier">Q</span><span class="special">;</span>
</pre>
<p>
      For half-precision floating-point literals, the suffix <code class="computeroutput"><span class="identifier">H</span></code>
      or <code class="computeroutput"><span class="identifier">h</span></code> could be used. One potential
      suffix for octuple-precision floating-point literals is <code class="computeroutput"><span class="identifier">O</span></code>
      or <code class="computeroutput"><span class="identifier">o</span></code>.
    </p>
<p>
      For example,
    </p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">cstdfloat</span><span class="special">&gt;</span>

<span class="identifier">constexpr</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">float16_t</span> <span class="identifier">euler</span> <span class="special">=</span> <span class="number">0.577216</span><span class="identifier">H</span><span class="special">;</span>
</pre>
<p>
      Higher precisions also require construction from floating-point literals. As
      the list of available suffixes dwindles, however, available suffixes might
      run out and the myriad of suffixes may become confusing. Floating-point literals
      for precisions higher than quadruple precision, then, might be better served
      with construction from string literals.
    </p>
<p>
      An alternative suffix scheme could use hybrid suffixes composed of, say, the
      letter <code class="computeroutput"><span class="identifier">F</span></code> or <code class="computeroutput"><span class="identifier">f</span></code>
      which stands for floating-point, to which the specified width of the type is
      appended, for example <code class="computeroutput"><span class="identifier">F16</span></code>,
      <code class="computeroutput"><span class="identifier">F32</span></code>, <code class="computeroutput"><span class="identifier">F64</span></code>,
      <code class="computeroutput"><span class="identifier">F128</span></code>, etc. Code using the
      <code class="computeroutput"><span class="identifier">F128</span></code> suffix scheme is shown
      in the sample below.
    </p>
<pre class="programlisting"><span class="preprocessor">#include</span> <span class="special">&lt;</span><span class="identifier">cstdfloat</span><span class="special">&gt;</span>

<span class="identifier">constexpr</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">float128_t</span> <span class="identifier">pi</span> <span class="special">=</span> <span class="number">3.1415926535897932384626433832795028841972F</span><span class="number">128</span><span class="special">;</span>

<span class="identifier">constexpr</span> <span class="identifier">std</span><span class="special">::</span><span class="identifier">float16_t</span> <span class="identifier">euler</span> <span class="special">=</span> <span class="number">0.577216F</span><span class="number">16</span><span class="special">;</span>
</pre>
<p>
      This suffix scheme is unequivocal and it can be easily extended to unlimited
      precision. On the other hand, it may be difficult for programmers to separate
      the character part of the suffix from its numerical part when analyzing source
      code. For example, it is particularly difficult to resolve the <code class="computeroutput"><span class="identifier">F</span></code> suffix in the initialization of <code class="computeroutput"><span class="identifier">euler</span></code> above.
    </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2013 Paul A. Bristow, Christopher Kormanyos, John Maddock<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="thetypedefs.html"><img src="../images/prev.png" alt="Prev"></a><a accesskey="u" href="../index.html"><img src="../images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../images/home.png" alt="Home"></a><a accesskey="n" href="thestandard.html"><img src="../images/next.png" alt="Next"></a>
</div>
</body>
</html>
